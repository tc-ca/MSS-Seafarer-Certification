@using Microsoft.Extensions.Configuration
@using CDNApplication.Utilities
@using System.Configuration
@inject IConfiguration Configuration

<CDNApplication.Components.Banners.Banner ShowBanner="@alphaBannerOptions.ShowBanner" 
                                          State="@CDNApplication.Components.Banners.BannerState.ALPHA" 
                                          Message="@alphaBannerOptions.BannerMessage" />
<CDNApplication.Components.Banners.Banner ShowBanner="@betaBannerOptions.ShowBanner"
                                          State="@CDNApplication.Components.Banners.BannerState.BETA"
                                          Message="@betaBannerOptions.BannerMessage" />
<CDNApplication.Components.Banners.Banner ShowBanner="@warningBannerOptions.ShowBanner"
                                          State="@CDNApplication.Components.Banners.BannerState.WARNING"
                                          Message="@warningBannerOptions.BannerMessage" />

@code
{
    private BannerOptions alphaBannerOptions = new BannerOptions();
    private BannerOptions betaBannerOptions = new BannerOptions();
    private BannerOptions warningBannerOptions = new BannerOptions();

    protected override void OnInitialized()
    {
        Configuration.GetSection(BannerOptions.AlphaBanner).Bind(alphaBannerOptions);
        Configuration.GetSection(BannerOptions.BetaBanner).Bind(betaBannerOptions);
        Configuration.GetSection(BannerOptions.WarningBanner).Bind(warningBannerOptions);
    }
}
