@page "/identitydocuments"
@using Data;

@using CDTS_Blazor.Data.Services;
@using BlazorInputFile;

@inject IAzureBlobService _azureBlobService;

<nav aria-label="progress" class="step-indicator">
    <ul class="steps">
        <li class="complete">
            <a href="/cdnform">@Constants.ProgressBarText1</a><span class="sr-only">completed</span>
        </li>
        <li class="complete">
            <a href="/mailingaddress">@Constants.ProgressBarText2</a><span class="sr-only">completed</span>
        </li>
        <li class="active" aria-current="true">
            @Constants.ProgressBarText3
        </li>
        <li>
            @Constants.ProgressBarText4<span class="sr-only">not completed</span>
        </li>
    </ul>
</nav>

<br />

<div class="wb-frmvld">
    <form role="form" method="get" action="/">
        <div class="form-group">
            <label for="Document">Document</label>
            <InputFile id="Document" multiple class="form-control" OnChange="HandleFileSelected" />
        </div>
    </form>

    <a class="btn btn-primary" href="/signature" role="button">Next</a>
    <a class="btn btn-secondary" href="/" role="button">Cancel</a>
</div>

@code {

    async void HandleFileSelected(IFileListEntry[] files)
    {
        // Upload the file to the root directory
        var result = await _azureBlobService.UploadMultipleFilesAsync(files);

    }

}
