@page "/search"

@using CSF.SRDashboard.Client.Components.Icons.Constants

<div class="mt-4">
    <h1>Seafarer search</h1>
</div>
<div >
<CSF.SRDashboard.Client.Components.SearchErrorComponent SearchError="this.SearchError" />
    </div>
<div class="mt-1 border rounded col-12">
    <div class="mt-3">
        <div>
            <p class="mt-4 mb-4">Enter one or more search field to view existing seafarers in the system*.</p>
        </div>

        <EditForm EditContext="@EditContext" OnValidSubmit="Search">
            <FluentValidationValidator />
            <div class="row">
                <div class="col-5 d-grid gap-3">
                    <div class="form-group" @onclick="ClearMessages">
                        <FormInputText Label="Candidate Document Number (CDN)"  Id="CNDInput"  @bind-Value="@SearchCriteria.Cdn" ValidationFor="@(()=>SearchCriteria.Cdn)" @onclick="(()=>ClearMessages())" />
                        
                    </div>
                    <div class="form-group" @onclick="ClearMessages">
                        <FormInputText Id="LastNameInput" Label="Last name" @bind-Value="@SearchCriteria.LastName" ValidationFor="@(()=>SearchCriteria.LastName)" />
                    </div>
                    <div class="form-group" @onclick="ClearMessages">
                        <FormInputText Id="FirstNameInput" Label="First name" @bind-Value="@SearchCriteria.FirstName" ValidationFor="@(()=>SearchCriteria.FirstName)" />
                    </div>
                    <div class="form-group" @onclick="ClearMessages">
                        <FormInputDate class="@CssError" Id="DobInput" Label="Date of birth" @bind-Value="@SearchCriteria.DateOfBirthObj" ValidationFor="@(()=>SearchCriteria.DateOfBirthObj)" />
                    <ValidationMessage For="()=> SearchCriteria.DateOfBirth"></ValidationMessage>
                    </div>
                    <div class="d-flex justify-content-end align-items-center">
                        <button id="SeafarerClear" type="button" class="btn btn-light btn-clear mr-3" @onclick="Clear">Clear</button>
                        <button id="SeafarerSearch" type="submit" class="btn btn-primary">Search</button>
                      
                    </div>
                </div>
                <div class="row">
                    <div id="SpinnerContainer" style="display:none;" class="col-5 text-primary align-self-end">
                        <CSF.SRDashboard.Client.Components.Icons.Spinner SpinnerClass="mb-1" AnimationType="FontAwesomeSpinAnimationType.SPIN" Size="FontAwesomeIconSize.TWO" />
                    </div>
                </div>
                
            </div>
        </EditForm>
    </div>
    <br />
</div>

