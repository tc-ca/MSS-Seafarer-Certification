@page "/SeafarerProfile/{Cdn}/create-new-request"

<EditForm EditContext="@EditContext" OnValidSubmit="SaveChanges">
    <FluentValidationValidator />

    <div class="d-flex">
        <div class="mr-auto p-2">
            <h3>@this.Applicant.FullName - @Localizer["RequestLower"]</h3>
        </div>

        <div class="p-2">
            <button class="btn btn-light" type="button" @onclick="Cancel">@Localizer["Cancel"]</button>
        </div>
        <div class="p-2">
            <button id="SeafarerSave" type="submit" class="btn btn-primary">@Localizer["SaveRequest"]</button>
        </div>
    </div>

    <div class="mt-3 mb-3" style="border-top: 2px solid #dee2e6"></div>
    <div>
        <CSF.SRDashboard.Client.Components.AssigneeSelector RequestModel="RequestModel" EditContext="EditContext" />
    </div>

    <div class="d-flex">
        <div class="flex-grow-1">
            <div class="mt-3 mb-3">
                <Collapse HeaderTitleTextColor="#FFFFFF" Title="Request information" HeaderBackgroundColor="#1B50B1" IsCollapsable="true">
                    <BodyContent>
                        <CSF.SRDashboard.Client.Components.Seafarer.Requests.RequestInformation EditContext="EditContext" RequestModel="RequestModel" Editable="true" ShowDefaultOption="true" />
                    </BodyContent>
                </Collapse>
            </div>

            <div class="mt-3 mb-3">
                <Collapse HeaderTitleTextColor="#FFFFFF" Title="Applicant details" HeaderBackgroundColor="#1B50B1" IsCollapsable="true">
                    <BodyContent>
                        <CSF.SRDashboard.Client.Components.ApplicantDetails Applicant="this.Applicant" />
                    </BodyContent>
                </Collapse>
            </div>
            <div class="mt-3 mb-3">
                <CSF.SRDashboard.Client.Components.AddDocumentComponent ShowDefaultOption="true" EditContext="this.EditContext" @bind-DocumentForm="this.RequestModel.UploadedDocuments" AllowMultipleUploads="true"></CSF.SRDashboard.Client.Components.AddDocumentComponent>
            </div>
        </div>
        <div style="flex-basis:25%;" class="pl-4 pr-4">

            <CSF.SRDashboard.Client.Components.RequestStatus EditContext="EditContext" RequestModel="RequestModel" Editable="true" IsReadOnly="false" ShowDefaultOption="false" />
        </div>
    </div>

</EditForm>